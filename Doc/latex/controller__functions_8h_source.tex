\doxysection{controller\+\_\+functions.\+h}
\hypertarget{controller__functions_8h_source}{}\label{controller__functions_8h_source}\index{VGA\_Driver/Drivers/CMSIS/DSP/Include/dsp/controller\_functions.h@{VGA\_Driver/Drivers/CMSIS/DSP/Include/dsp/controller\_functions.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/******************************************************************************}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ @file\ \ \ \ \ controller\_functions.h}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ @brief\ \ \ \ Public\ header\ file\ for\ CMSIS\ DSP\ Library}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ @version\ \ V1.10.0}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ @date\ \ \ \ \ 08\ July\ 2021}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ Target\ Processor:\ Cortex-\/M\ and\ Cortex-\/A\ cores}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ ******************************************************************************/}}
\DoxyCodeLine{00008\ \textcolor{comment}{/*}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ Copyright\ (c)\ 2010-\/2020\ Arm\ Limited\ or\ its\ affiliates.\ All\ rights\ reserved.}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *\ SPDX-\/License-\/Identifier:\ Apache-\/2.0}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ License);\ you\ may}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ AS\ IS\ BASIS,\ WITHOUT}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ }
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#ifndef\ \_CONTROLLER\_FUNCTIONS\_H\_}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#define\ \_CONTROLLER\_FUNCTIONS\_H\_}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}arm\_math\_types.h"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ "{}arm\_math\_memory.h"{}}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#include\ "{}dsp/none.h"{}}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#include\ "{}dsp/utils.h"{}}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#ifdef\ \ \ \_\_cplusplus}}
\DoxyCodeLine{00037\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}}
\DoxyCodeLine{00038\ \{}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#define\ CONTROLLER\_Q31\_SHIFT\ \ (32\ -\/\ 9)}}
\DoxyCodeLine{00046\ \ \ \textcolor{comment}{/*\ 1.31(q31)\ Fixed\ value\ of\ 2/360\ */}}
\DoxyCodeLine{00047\ \ \ \textcolor{comment}{/*\ -\/1\ to\ +1\ is\ divided\ into\ 360\ values\ so\ total\ spacing\ is\ (2/360)\ */}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#define\ INPUT\_SPACING\ \ \ \ \ \ \ \ \ 0xB60B61}}
\DoxyCodeLine{00049\ \ \ }
\DoxyCodeLine{00070\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___sin_cos_ga4420d45c37d58c310ef9ae1b5fe58020}{arm\_sin\_cos\_f32}}(}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ float32\_t\ theta,}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ float32\_t\ *\ pSinVal,}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ float32\_t\ *\ pCosVal);}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00082\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___sin_cos_gae9e4ddebff9d4eb5d0a093e28e0bc504}{arm\_sin\_cos\_q31}}(}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ q31\_t\ theta,}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ q31\_t\ *\ pSinVal,}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ q31\_t\ *\ pCosVal);}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00157\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00158\ \ \ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ q15\_t\ \mbox{\hyperlink{structarm__pid__instance__q15_a1aa73268c65cea0c7bc66bb70ff35205}{A0}};\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\#if\ !defined\ (ARM\_MATH\_DSP)}}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ q15\_t\ \mbox{\hyperlink{structarm__pid__instance__q15_af66ed2ba68c67c1cac2c37cc902bb386}{A1}};\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ q15\_t\ \mbox{\hyperlink{structarm__pid__instance__q15_a06ee5d86e97bf48a15096806b79f299c}{A2}};\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00163\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ q31\_t\ A1;\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ q15\_t\ state[3];\ \ \ \ \ }
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ q15\_t\ \mbox{\hyperlink{structarm__pid__instance__q15_afef61fb3b64c73f2cd0c91d9dcf95679}{Kp}};\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ q15\_t\ \mbox{\hyperlink{structarm__pid__instance__q15_a19d5059baf06dd52266260d096702d0a}{Ki}};\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ q15\_t\ \mbox{\hyperlink{structarm__pid__instance__q15_abf38d18de1e16bc6d86846fedf8534fe}{Kd}};\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00170\ \ \ \}\ \mbox{\hyperlink{structarm__pid__instance__q15}{arm\_pid\_instance\_q15}};}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00175\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00176\ \ \ \{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ q31\_t\ \mbox{\hyperlink{structarm__pid__instance__q31_ab58496a4137da4c667915a5fc0ef57ef}{A0}};\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ q31\_t\ \mbox{\hyperlink{structarm__pid__instance__q31_aeb897c84724b56948e4222aca8d0e1f4}{A1}};\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ q31\_t\ \mbox{\hyperlink{structarm__pid__instance__q31_a4ae945f839719fb2c04c978724b78ebb}{A2}};\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ q31\_t\ state[3];\ \ \ \ \ \ }
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ q31\_t\ \mbox{\hyperlink{structarm__pid__instance__q31_a6ec4b37fe2246a7e017dd07578fe5bbd}{Kp}};\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ q31\_t\ \mbox{\hyperlink{structarm__pid__instance__q31_a84a6c05c16369c905193da0d5fc9a7b0}{Ki}};\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ q31\_t\ \mbox{\hyperlink{structarm__pid__instance__q31_a213bbf14da7ea536998f611977173552}{Kd}};\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00184\ \ \ \}\ \mbox{\hyperlink{structarm__pid__instance__q31}{arm\_pid\_instance\_q31}};}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00189\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00190\ \ \ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ float32\_t\ \mbox{\hyperlink{structarm__pid__instance__f32_afc2ed2bf70b7d9d84f49ee9ae7caa004}{A0}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ float32\_t\ \mbox{\hyperlink{structarm__pid__instance__f32_a5e6785a3a5cf7b98f3bfc7b180d98273}{A1}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ float32\_t\ \mbox{\hyperlink{structarm__pid__instance__f32_a5b00947275caf079f351271bf41573fe}{A2}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ float32\_t\ state[3];\ \ \ \ }
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ float32\_t\ \mbox{\hyperlink{structarm__pid__instance__f32_abe23f3e122ef5f55398fcf77c793c425}{Kp}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ float32\_t\ \mbox{\hyperlink{structarm__pid__instance__f32_ad1a1aa1c10a2dca201a3422f82198777}{Ki}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ float32\_t\ \mbox{\hyperlink{structarm__pid__instance__f32_ace6b9e405a991cbaf6b4c137ca0d51a3}{Kd}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00198\ \ \ \}\ \mbox{\hyperlink{structarm__pid__instance__f32}{arm\_pid\_instance\_f32}};}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00207\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___p_i_d_gae31536b19b82b93ed184fb1ab73cfcb3}{arm\_pid\_init\_f32}}(}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structarm__pid__instance__f32}{arm\_pid\_instance\_f32}}\ *\ S,}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ int32\_t\ resetStateFlag);}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00216\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___p_i_d_ga9ec860bcb6f8ca31205bf0f1b51ab723}{arm\_pid\_reset\_f32}}(}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structarm__pid__instance__f32}{arm\_pid\_instance\_f32}}\ *\ S);}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00225\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___p_i_d_gad9d88485234fa9460b1ce9e64989ac86}{arm\_pid\_init\_q31}}(}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structarm__pid__instance__q31}{arm\_pid\_instance\_q31}}\ *\ S,}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ int32\_t\ resetStateFlag);}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00235\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___p_i_d_gaeecbacd3fb37c608ec25474d3a0dffa9}{arm\_pid\_reset\_q31}}(}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structarm__pid__instance__q31}{arm\_pid\_instance\_q31}}\ *\ S);}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00244\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___p_i_d_ga2cb1e3d3ebb167348fdabec74653d5c3}{arm\_pid\_init\_q15}}(}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structarm__pid__instance__q15}{arm\_pid\_instance\_q15}}\ *\ S,}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ int32\_t\ resetStateFlag);}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00253\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group___p_i_d_ga408566dacb4fa6e0458b2c75672e525f}{arm\_pid\_reset\_q15}}(}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structarm__pid__instance__q15}{arm\_pid\_instance\_q15}}\ *\ S);}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00269\ \ \ \_\_STATIC\_FORCEINLINE\ float32\_t\ \mbox{\hyperlink{group___p_i_d_ga5a6865ed706b7dd969ef0bd58a61f306}{arm\_pid\_f32}}(}
\DoxyCodeLine{00270\ \ \ \mbox{\hyperlink{structarm__pid__instance__f32}{arm\_pid\_instance\_f32}}\ *\ S,}
\DoxyCodeLine{00271\ \ \ float32\_t\ in)}
\DoxyCodeLine{00272\ \ \ \{}
\DoxyCodeLine{00273\ \ \ \ \ float32\_t\ out;}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{comment}{/*\ y[n]\ =\ y[n-\/1]\ +\ A0\ *\ x[n]\ +\ A1\ *\ x[n-\/1]\ +\ A2\ *\ x[n-\/2]\ \ */}}
\DoxyCodeLine{00276\ \ \ \ \ out\ =\ (S-\/>A0\ *\ in)\ +}
\DoxyCodeLine{00277\ \ \ \ \ \ \ (S-\/>A1\ *\ S-\/>state[0])\ +\ (S-\/>A2\ *\ S-\/>state[1])\ +\ (S-\/>state[2]);}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \ \ \ \ \textcolor{comment}{/*\ Update\ state\ */}}
\DoxyCodeLine{00280\ \ \ \ \ S-\/>state[1]\ =\ S-\/>state[0];}
\DoxyCodeLine{00281\ \ \ \ \ S-\/>state[0]\ =\ in;}
\DoxyCodeLine{00282\ \ \ \ \ S-\/>state[2]\ =\ out;}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \ \ \ \ \textcolor{comment}{/*\ return\ to\ application\ */}}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{keywordflow}{return}\ (out);}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ \}}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00302\ \_\_STATIC\_FORCEINLINE\ q31\_t\ \mbox{\hyperlink{group___p_i_d_ga9ead8b3180125fb42879389477b99dc8}{arm\_pid\_q31}}(}
\DoxyCodeLine{00303\ \ \ \mbox{\hyperlink{structarm__pid__instance__q31}{arm\_pid\_instance\_q31}}\ *\ S,}
\DoxyCodeLine{00304\ \ \ q31\_t\ in)}
\DoxyCodeLine{00305\ \ \ \{}
\DoxyCodeLine{00306\ \ \ \ \ q63\_t\ acc;}
\DoxyCodeLine{00307\ \ \ \ \ q31\_t\ out;}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00309\ \ \ \ \ \textcolor{comment}{/*\ acc\ =\ A0\ *\ x[n]\ \ */}}
\DoxyCodeLine{00310\ \ \ \ \ acc\ =\ (q63\_t)\ S-\/>A0\ *\ in;}
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{comment}{/*\ acc\ +=\ A1\ *\ x[n-\/1]\ */}}
\DoxyCodeLine{00313\ \ \ \ \ acc\ +=\ (q63\_t)\ S-\/>A1\ *\ S-\/>state[0];}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{comment}{/*\ acc\ +=\ A2\ *\ x[n-\/2]\ \ */}}
\DoxyCodeLine{00316\ \ \ \ \ acc\ +=\ (q63\_t)\ S-\/>A2\ *\ S-\/>state[1];}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{comment}{/*\ convert\ output\ to\ 1.31\ format\ to\ add\ y[n-\/1]\ */}}
\DoxyCodeLine{00319\ \ \ \ \ out\ =\ (q31\_t)\ (acc\ >>\ 31U);}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{comment}{/*\ out\ +=\ y[n-\/1]\ */}}
\DoxyCodeLine{00322\ \ \ \ \ out\ +=\ S-\/>state[2];}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \ \ \ \ \textcolor{comment}{/*\ Update\ state\ */}}
\DoxyCodeLine{00325\ \ \ \ \ S-\/>state[1]\ =\ S-\/>state[0];}
\DoxyCodeLine{00326\ \ \ \ \ S-\/>state[0]\ =\ in;}
\DoxyCodeLine{00327\ \ \ \ \ S-\/>state[2]\ =\ out;}
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00329\ \ \ \ \ \textcolor{comment}{/*\ return\ to\ application\ */}}
\DoxyCodeLine{00330\ \ \ \ \ \textcolor{keywordflow}{return}\ (out);}
\DoxyCodeLine{00331\ \ \ \}}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ }
\DoxyCodeLine{00348\ \_\_STATIC\_FORCEINLINE\ q15\_t\ \mbox{\hyperlink{group___p_i_d_ga7ecc87208cb297fb9a31cec4f18bb54e}{arm\_pid\_q15}}(}
\DoxyCodeLine{00349\ \ \ \mbox{\hyperlink{structarm__pid__instance__q15}{arm\_pid\_instance\_q15}}\ *\ S,}
\DoxyCodeLine{00350\ \ \ q15\_t\ in)}
\DoxyCodeLine{00351\ \ \ \{}
\DoxyCodeLine{00352\ \ \ \ \ q63\_t\ acc;}
\DoxyCodeLine{00353\ \ \ \ \ q15\_t\ out;}
\DoxyCodeLine{00354\ }
\DoxyCodeLine{00355\ \textcolor{preprocessor}{\#if\ defined\ (ARM\_MATH\_DSP)}}
\DoxyCodeLine{00356\ \ \ \ \ \textcolor{comment}{/*\ Implementation\ of\ PID\ controller\ */}}
\DoxyCodeLine{00357\ }
\DoxyCodeLine{00358\ \ \ \ \ \textcolor{comment}{/*\ acc\ =\ A0\ *\ x[n]\ \ */}}
\DoxyCodeLine{00359\ \ \ \ \ acc\ =\ (q31\_t)\ \_\_SMUAD((uint32\_t)S-\/>A0,\ (uint32\_t)in);}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00361\ \ \ \ \ \textcolor{comment}{/*\ acc\ +=\ A1\ *\ x[n-\/1]\ +\ A2\ *\ x[n-\/2]\ \ */}}
\DoxyCodeLine{00362\ \ \ \ \ acc\ =\ (q63\_t)\_\_SMLALD((uint32\_t)S-\/>A1,\ (uint32\_t)read\_q15x2\ (S-\/>state),\ (uint64\_t)acc);}
\DoxyCodeLine{00363\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00364\ \ \ \ \ \textcolor{comment}{/*\ acc\ =\ A0\ *\ x[n]\ \ */}}
\DoxyCodeLine{00365\ \ \ \ \ acc\ =\ ((q31\_t)\ S-\/>A0)\ *\ in;}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \ \ \ \ \textcolor{comment}{/*\ acc\ +=\ A1\ *\ x[n-\/1]\ +\ A2\ *\ x[n-\/2]\ \ */}}
\DoxyCodeLine{00368\ \ \ \ \ acc\ +=\ (q31\_t)\ S-\/>A1\ *\ S-\/>state[0];}
\DoxyCodeLine{00369\ \ \ \ \ acc\ +=\ (q31\_t)\ S-\/>A2\ *\ S-\/>state[1];}
\DoxyCodeLine{00370\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \ \ \ \ \textcolor{comment}{/*\ acc\ +=\ y[n-\/1]\ */}}
\DoxyCodeLine{00373\ \ \ \ \ acc\ +=\ (q31\_t)\ S-\/>state[2]\ <<\ 15;}
\DoxyCodeLine{00374\ }
\DoxyCodeLine{00375\ \ \ \ \ \textcolor{comment}{/*\ saturate\ the\ output\ */}}
\DoxyCodeLine{00376\ \ \ \ \ out\ =\ (q15\_t)\ (\mbox{\hyperlink{_core___a_2_include_2cmsis__armcc_8h_a3c013c2ed76ebc48c283c8bae17b9ab8}{\_\_SSAT}}((q31\_t)(acc\ >>\ 15),\ 16));}
\DoxyCodeLine{00377\ }
\DoxyCodeLine{00378\ \ \ \ \ \textcolor{comment}{/*\ Update\ state\ */}}
\DoxyCodeLine{00379\ \ \ \ \ S-\/>state[1]\ =\ S-\/>state[0];}
\DoxyCodeLine{00380\ \ \ \ \ S-\/>state[0]\ =\ in;}
\DoxyCodeLine{00381\ \ \ \ \ S-\/>state[2]\ =\ out;}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \ \ \textcolor{comment}{/*\ return\ to\ application\ */}}
\DoxyCodeLine{00384\ \ \ \ \ \textcolor{keywordflow}{return}\ (out);}
\DoxyCodeLine{00385\ \ \ \}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00437\ \ \ \_\_STATIC\_FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__park_ga18f92d09e080edc98a00c01886b56b5d}{arm\_park\_f32}}(}
\DoxyCodeLine{00438\ \ \ float32\_t\ Ialpha,}
\DoxyCodeLine{00439\ \ \ float32\_t\ Ibeta,}
\DoxyCodeLine{00440\ \ \ float32\_t\ *\ pId,}
\DoxyCodeLine{00441\ \ \ float32\_t\ *\ pIq,}
\DoxyCodeLine{00442\ \ \ float32\_t\ sinVal,}
\DoxyCodeLine{00443\ \ \ float32\_t\ cosVal)}
\DoxyCodeLine{00444\ \ \ \{}
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{comment}{/*\ Calculate\ pId\ using\ the\ equation,\ pId\ =\ Ialpha\ *\ cosVal\ +\ Ibeta\ *\ sinVal\ */}}
\DoxyCodeLine{00446\ \ \ \ \ *pId\ =\ Ialpha\ *\ cosVal\ +\ Ibeta\ *\ sinVal;}
\DoxyCodeLine{00447\ }
\DoxyCodeLine{00448\ \ \ \ \ \textcolor{comment}{/*\ Calculate\ pIq\ using\ the\ equation,\ pIq\ =\ -\/\ Ialpha\ *\ sinVal\ +\ Ibeta\ *\ cosVal\ */}}
\DoxyCodeLine{00449\ \ \ \ \ *pIq\ =\ -\/Ialpha\ *\ sinVal\ +\ Ibeta\ *\ cosVal;}
\DoxyCodeLine{00450\ \ \ \}}
\DoxyCodeLine{00451\ }
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00468\ \_\_STATIC\_FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__park_ga69be76685149b18f345f705aa8efaad0}{arm\_park\_q31}}(}
\DoxyCodeLine{00469\ \ \ q31\_t\ Ialpha,}
\DoxyCodeLine{00470\ \ \ q31\_t\ Ibeta,}
\DoxyCodeLine{00471\ \ \ q31\_t\ *\ pId,}
\DoxyCodeLine{00472\ \ \ q31\_t\ *\ pIq,}
\DoxyCodeLine{00473\ \ \ q31\_t\ sinVal,}
\DoxyCodeLine{00474\ \ \ q31\_t\ cosVal)}
\DoxyCodeLine{00475\ \ \ \{}
\DoxyCodeLine{00476\ \ \ \ \ q31\_t\ product1,\ product2;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Temporary\ variables\ used\ to\ store\ intermediate\ results\ */}}
\DoxyCodeLine{00477\ \ \ \ \ q31\_t\ product3,\ product4;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Temporary\ variables\ used\ to\ store\ intermediate\ results\ */}}
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00479\ \ \ \ \ \textcolor{comment}{/*\ Intermediate\ product\ is\ calculated\ by\ (Ialpha\ *\ cosVal)\ */}}
\DoxyCodeLine{00480\ \ \ \ \ product1\ =\ (q31\_t)\ (((q63\_t)\ (Ialpha)\ *\ (cosVal))\ >>\ 31);}
\DoxyCodeLine{00481\ }
\DoxyCodeLine{00482\ \ \ \ \ \textcolor{comment}{/*\ Intermediate\ product\ is\ calculated\ by\ (Ibeta\ *\ sinVal)\ */}}
\DoxyCodeLine{00483\ \ \ \ \ product2\ =\ (q31\_t)\ (((q63\_t)\ (Ibeta)\ *\ (sinVal))\ >>\ 31);}
\DoxyCodeLine{00484\ }
\DoxyCodeLine{00485\ }
\DoxyCodeLine{00486\ \ \ \ \ \textcolor{comment}{/*\ Intermediate\ product\ is\ calculated\ by\ (Ialpha\ *\ sinVal)\ */}}
\DoxyCodeLine{00487\ \ \ \ \ product3\ =\ (q31\_t)\ (((q63\_t)\ (Ialpha)\ *\ (sinVal))\ >>\ 31);}
\DoxyCodeLine{00488\ }
\DoxyCodeLine{00489\ \ \ \ \ \textcolor{comment}{/*\ Intermediate\ product\ is\ calculated\ by\ (Ibeta\ *\ cosVal)\ */}}
\DoxyCodeLine{00490\ \ \ \ \ product4\ =\ (q31\_t)\ (((q63\_t)\ (Ibeta)\ *\ (cosVal))\ >>\ 31);}
\DoxyCodeLine{00491\ }
\DoxyCodeLine{00492\ \ \ \ \ \textcolor{comment}{/*\ Calculate\ pId\ by\ adding\ the\ two\ intermediate\ products\ 1\ and\ 2\ */}}
\DoxyCodeLine{00493\ \ \ \ \ *pId\ =\ \_\_QADD(product1,\ product2);}
\DoxyCodeLine{00494\ }
\DoxyCodeLine{00495\ \ \ \ \ \textcolor{comment}{/*\ Calculate\ pIq\ by\ subtracting\ the\ two\ intermediate\ products\ 3\ from\ 4\ */}}
\DoxyCodeLine{00496\ \ \ \ \ *pIq\ =\ \_\_QSUB(product4,\ product3);}
\DoxyCodeLine{00497\ \ \ \}}
\DoxyCodeLine{00498\ }
\DoxyCodeLine{00540\ \ \ \_\_STATIC\_FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__inv__park_ga896b639ecd52c33d427bc7cdc8d303b2}{arm\_inv\_park\_f32}}(}
\DoxyCodeLine{00541\ \ \ float32\_t\ Id,}
\DoxyCodeLine{00542\ \ \ float32\_t\ Iq,}
\DoxyCodeLine{00543\ \ \ float32\_t\ *\ pIalpha,}
\DoxyCodeLine{00544\ \ \ float32\_t\ *\ pIbeta,}
\DoxyCodeLine{00545\ \ \ float32\_t\ sinVal,}
\DoxyCodeLine{00546\ \ \ float32\_t\ cosVal)}
\DoxyCodeLine{00547\ \ \ \{}
\DoxyCodeLine{00548\ \ \ \ \ \textcolor{comment}{/*\ Calculate\ pIalpha\ using\ the\ equation,\ pIalpha\ =\ Id\ *\ cosVal\ -\/\ Iq\ *\ sinVal\ */}}
\DoxyCodeLine{00549\ \ \ \ \ *pIalpha\ =\ Id\ *\ cosVal\ -\/\ Iq\ *\ sinVal;}
\DoxyCodeLine{00550\ }
\DoxyCodeLine{00551\ \ \ \ \ \textcolor{comment}{/*\ Calculate\ pIbeta\ using\ the\ equation,\ pIbeta\ =\ Id\ *\ sinVal\ +\ Iq\ *\ cosVal\ */}}
\DoxyCodeLine{00552\ \ \ \ \ *pIbeta\ =\ Id\ *\ sinVal\ +\ Iq\ *\ cosVal;}
\DoxyCodeLine{00553\ \ \ \}}
\DoxyCodeLine{00554\ }
\DoxyCodeLine{00555\ }
\DoxyCodeLine{00571\ \_\_STATIC\_FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__inv__park_gae7165779ef72e1f797d0c601d6d619b2}{arm\_inv\_park\_q31}}(}
\DoxyCodeLine{00572\ \ \ q31\_t\ Id,}
\DoxyCodeLine{00573\ \ \ q31\_t\ Iq,}
\DoxyCodeLine{00574\ \ \ q31\_t\ *\ pIalpha,}
\DoxyCodeLine{00575\ \ \ q31\_t\ *\ pIbeta,}
\DoxyCodeLine{00576\ \ \ q31\_t\ sinVal,}
\DoxyCodeLine{00577\ \ \ q31\_t\ cosVal)}
\DoxyCodeLine{00578\ \ \ \{}
\DoxyCodeLine{00579\ \ \ \ \ q31\_t\ product1,\ product2;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Temporary\ variables\ used\ to\ store\ intermediate\ results\ */}}
\DoxyCodeLine{00580\ \ \ \ \ q31\_t\ product3,\ product4;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Temporary\ variables\ used\ to\ store\ intermediate\ results\ */}}
\DoxyCodeLine{00581\ }
\DoxyCodeLine{00582\ \ \ \ \ \textcolor{comment}{/*\ Intermediate\ product\ is\ calculated\ by\ (Id\ *\ cosVal)\ */}}
\DoxyCodeLine{00583\ \ \ \ \ product1\ =\ (q31\_t)\ (((q63\_t)\ (Id)\ *\ (cosVal))\ >>\ 31);}
\DoxyCodeLine{00584\ }
\DoxyCodeLine{00585\ \ \ \ \ \textcolor{comment}{/*\ Intermediate\ product\ is\ calculated\ by\ (Iq\ *\ sinVal)\ */}}
\DoxyCodeLine{00586\ \ \ \ \ product2\ =\ (q31\_t)\ (((q63\_t)\ (Iq)\ *\ (sinVal))\ >>\ 31);}
\DoxyCodeLine{00587\ }
\DoxyCodeLine{00588\ }
\DoxyCodeLine{00589\ \ \ \ \ \textcolor{comment}{/*\ Intermediate\ product\ is\ calculated\ by\ (Id\ *\ sinVal)\ */}}
\DoxyCodeLine{00590\ \ \ \ \ product3\ =\ (q31\_t)\ (((q63\_t)\ (Id)\ *\ (sinVal))\ >>\ 31);}
\DoxyCodeLine{00591\ }
\DoxyCodeLine{00592\ \ \ \ \ \textcolor{comment}{/*\ Intermediate\ product\ is\ calculated\ by\ (Iq\ *\ cosVal)\ */}}
\DoxyCodeLine{00593\ \ \ \ \ product4\ =\ (q31\_t)\ (((q63\_t)\ (Iq)\ *\ (cosVal))\ >>\ 31);}
\DoxyCodeLine{00594\ }
\DoxyCodeLine{00595\ \ \ \ \ \textcolor{comment}{/*\ Calculate\ pIalpha\ by\ using\ the\ two\ intermediate\ products\ 1\ and\ 2\ */}}
\DoxyCodeLine{00596\ \ \ \ \ *pIalpha\ =\ \_\_QSUB(product1,\ product2);}
\DoxyCodeLine{00597\ }
\DoxyCodeLine{00598\ \ \ \ \ \textcolor{comment}{/*\ Calculate\ pIbeta\ by\ using\ the\ two\ intermediate\ products\ 3\ and\ 4\ */}}
\DoxyCodeLine{00599\ \ \ \ \ *pIbeta\ =\ \_\_QADD(product4,\ product3);}
\DoxyCodeLine{00600\ \ \ \}}
\DoxyCodeLine{00601\ }
\DoxyCodeLine{00646\ \ \ \_\_STATIC\_FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__clarke_ga82d40c62bb48ef4d613f1f2f685b4084}{arm\_clarke\_f32}}(}
\DoxyCodeLine{00647\ \ \ float32\_t\ Ia,}
\DoxyCodeLine{00648\ \ \ float32\_t\ Ib,}
\DoxyCodeLine{00649\ \ \ float32\_t\ *\ pIalpha,}
\DoxyCodeLine{00650\ \ \ float32\_t\ *\ pIbeta)}
\DoxyCodeLine{00651\ \ \ \{}
\DoxyCodeLine{00652\ \ \ \ \ \textcolor{comment}{/*\ Calculate\ pIalpha\ using\ the\ equation,\ pIalpha\ =\ Ia\ */}}
\DoxyCodeLine{00653\ \ \ \ \ *pIalpha\ =\ Ia;}
\DoxyCodeLine{00654\ }
\DoxyCodeLine{00655\ \ \ \ \ \textcolor{comment}{/*\ Calculate\ pIbeta\ using\ the\ equation,\ pIbeta\ =\ (1/sqrt(3))\ *\ Ia\ +\ (2/sqrt(3))\ *\ Ib\ */}}
\DoxyCodeLine{00656\ \ \ \ \ *pIbeta\ =\ (0.57735026919f\ *\ Ia\ +\ 1.15470053838f\ *\ Ib);}
\DoxyCodeLine{00657\ \ \ \}}
\DoxyCodeLine{00658\ }
\DoxyCodeLine{00659\ }
\DoxyCodeLine{00673\ \_\_STATIC\_FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__clarke_ga8d68db2a6e26e1caab677f5ab293c068}{arm\_clarke\_q31}}(}
\DoxyCodeLine{00674\ \ \ q31\_t\ Ia,}
\DoxyCodeLine{00675\ \ \ q31\_t\ Ib,}
\DoxyCodeLine{00676\ \ \ q31\_t\ *\ pIalpha,}
\DoxyCodeLine{00677\ \ \ q31\_t\ *\ pIbeta)}
\DoxyCodeLine{00678\ \ \ \{}
\DoxyCodeLine{00679\ \ \ \ \ q31\_t\ product1,\ product2;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Temporary\ variables\ used\ to\ store\ intermediate\ results\ */}}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00681\ \ \ \ \ \textcolor{comment}{/*\ Calculating\ pIalpha\ from\ Ia\ by\ equation\ pIalpha\ =\ Ia\ */}}
\DoxyCodeLine{00682\ \ \ \ \ *pIalpha\ =\ Ia;}
\DoxyCodeLine{00683\ }
\DoxyCodeLine{00684\ \ \ \ \ \textcolor{comment}{/*\ Intermediate\ product\ is\ calculated\ by\ (1/(sqrt(3))\ *\ Ia)\ */}}
\DoxyCodeLine{00685\ \ \ \ \ product1\ =\ (q31\_t)\ (((q63\_t)\ Ia\ *\ 0x24F34E8B)\ >>\ 30);}
\DoxyCodeLine{00686\ }
\DoxyCodeLine{00687\ \ \ \ \ \textcolor{comment}{/*\ Intermediate\ product\ is\ calculated\ by\ (2/sqrt(3)\ *\ Ib)\ */}}
\DoxyCodeLine{00688\ \ \ \ \ product2\ =\ (q31\_t)\ (((q63\_t)\ Ib\ *\ 0x49E69D16)\ >>\ 30);}
\DoxyCodeLine{00689\ }
\DoxyCodeLine{00690\ \ \ \ \ \textcolor{comment}{/*\ pIbeta\ is\ calculated\ by\ adding\ the\ intermediate\ products\ */}}
\DoxyCodeLine{00691\ \ \ \ \ *pIbeta\ =\ \_\_QADD(product1,\ product2);}
\DoxyCodeLine{00692\ \ \ \}}
\DoxyCodeLine{00693\ }
\DoxyCodeLine{00732\ \ \ \_\_STATIC\_FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__inv__clarke_ga1a73ce96f94b2124d02426690e587197}{arm\_inv\_clarke\_f32}}(}
\DoxyCodeLine{00733\ \ \ float32\_t\ Ialpha,}
\DoxyCodeLine{00734\ \ \ float32\_t\ Ibeta,}
\DoxyCodeLine{00735\ \ \ float32\_t\ *\ pIa,}
\DoxyCodeLine{00736\ \ \ float32\_t\ *\ pIb)}
\DoxyCodeLine{00737\ \ \ \{}
\DoxyCodeLine{00738\ \ \ \ \ \textcolor{comment}{/*\ Calculating\ pIa\ from\ Ialpha\ by\ equation\ pIa\ =\ Ialpha\ */}}
\DoxyCodeLine{00739\ \ \ \ \ *pIa\ =\ Ialpha;}
\DoxyCodeLine{00740\ }
\DoxyCodeLine{00741\ \ \ \ \ \textcolor{comment}{/*\ Calculating\ pIb\ from\ Ialpha\ and\ Ibeta\ by\ equation\ pIb\ =\ -\/(1/2)\ *\ Ialpha\ +\ (sqrt(3)/2)\ *\ Ibeta\ */}}
\DoxyCodeLine{00742\ \ \ \ \ *pIb\ =\ -\/0.5f\ *\ Ialpha\ +\ 0.8660254039f\ *\ Ibeta;}
\DoxyCodeLine{00743\ \ \ \}}
\DoxyCodeLine{00744\ }
\DoxyCodeLine{00745\ }
\DoxyCodeLine{00759\ \_\_STATIC\_FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__inv__clarke_ga3bab178431f22d13332a0dfae4390172}{arm\_inv\_clarke\_q31}}(}
\DoxyCodeLine{00760\ \ \ q31\_t\ Ialpha,}
\DoxyCodeLine{00761\ \ \ q31\_t\ Ibeta,}
\DoxyCodeLine{00762\ \ \ q31\_t\ *\ pIa,}
\DoxyCodeLine{00763\ \ \ q31\_t\ *\ pIb)}
\DoxyCodeLine{00764\ \ \ \{}
\DoxyCodeLine{00765\ \ \ \ \ q31\_t\ product1,\ product2;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Temporary\ variables\ used\ to\ store\ intermediate\ results\ */}}
\DoxyCodeLine{00766\ }
\DoxyCodeLine{00767\ \ \ \ \ \textcolor{comment}{/*\ Calculating\ pIa\ from\ Ialpha\ by\ equation\ pIa\ =\ Ialpha\ */}}
\DoxyCodeLine{00768\ \ \ \ \ *pIa\ =\ Ialpha;}
\DoxyCodeLine{00769\ }
\DoxyCodeLine{00770\ \ \ \ \ \textcolor{comment}{/*\ Intermediate\ product\ is\ calculated\ by\ (1/(2*sqrt(3))\ *\ Ia)\ */}}
\DoxyCodeLine{00771\ \ \ \ \ product1\ =\ (q31\_t)\ (((q63\_t)\ (Ialpha)\ *\ (0x40000000))\ >>\ 31);}
\DoxyCodeLine{00772\ }
\DoxyCodeLine{00773\ \ \ \ \ \textcolor{comment}{/*\ Intermediate\ product\ is\ calculated\ by\ (1/sqrt(3)\ *\ pIb)\ */}}
\DoxyCodeLine{00774\ \ \ \ \ product2\ =\ (q31\_t)\ (((q63\_t)\ (Ibeta)\ *\ (0x6ED9EBA1))\ >>\ 31);}
\DoxyCodeLine{00775\ }
\DoxyCodeLine{00776\ \ \ \ \ \textcolor{comment}{/*\ pIb\ is\ calculated\ by\ subtracting\ the\ products\ */}}
\DoxyCodeLine{00777\ \ \ \ \ *pIb\ =\ \_\_QSUB(product2,\ product1);}
\DoxyCodeLine{00778\ \ \ \}}
\DoxyCodeLine{00779\ }
\DoxyCodeLine{00787\ \textcolor{preprocessor}{\#ifdef\ \ \ \_\_cplusplus}}
\DoxyCodeLine{00788\ \}}
\DoxyCodeLine{00789\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00790\ }
\DoxyCodeLine{00791\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ ifndef\ \_CONTROLLER\_FUNCTIONS\_H\_\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
